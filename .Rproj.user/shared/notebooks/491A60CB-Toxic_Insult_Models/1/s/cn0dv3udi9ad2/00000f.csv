"0","# Create a document-term matrix (DTM) using TF-IDF"
"0","tfidf_vectorizer <- function(data) {"
"0","  corpus <- Corpus(VectorSource(data))"
"0","  dtm <- DocumentTermMatrix(corpus)"
"0","  dtm_tfidf <- weightTfIdf(dtm)"
"0","  "
"0","  # Reduce the size of the TF-IDF matrix by keeping only the top 1000 features"
"0","  dtm_tfidf_reduced <- removeSparseTerms(dtm_tfidf, sparse = 0.999)"
"0","  "
"0","  return(as.matrix(dtm_tfidf_reduced))"
"0","}"
