"0","# Create a document-term matrix (Bag of Words)"
"0","dtm2 <- DocumentTermMatrix(data2$comment)"
"0",""
"0","# Convert TDM to a matrix"
"0","dtm_matrix <- as.matrix(dtm2)"
"0",""
"0","# Calculate term frequencies"
"0","term_freq <- colSums(dtm_matrix)"
"0",""
"0","# Select the top 1200 most frequent features"
"0","top_features <- names(sort(term_freq, decreasing = TRUE)[1:1200])"
"0",""
"0","# Filter DTM to include only top features"
"0","filtered_dtm_matrix <- dtm_matrix[, top_features]"
"0",""
"0","# Combine label and bof matrix into a data frame"
"0","combined_data2 <- data.frame(label = data2$insult, commentLength = data2$commentLength, filtered_dtm_matrix)"
